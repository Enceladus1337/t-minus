<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Countdown 🎂</title>
<style>
  body {
    background: radial-gradient(circle at top, #2e003e, #000);
    color: white;
    text-align: center;
    font-family: 'Poppins', sans-serif;
    overflow: hidden;
  }

  h1 {
    font-size: 2.5rem;
    margin-top: 50px;
  }

  #countdown {
    font-size: 2rem;
    margin-top: 20px;
  }

  #hidden-content {
    display: none;
    opacity: 0;
    transition: opacity 2s;
  }

  #hidden-content.show {
    display: block;
    opacity: 1;
  }

  /* Floating balloons & hearts */
  .floating {
    position: fixed;
    bottom: -50px;
    font-size: 2rem;
    opacity: 0.8;
    animation: floatUp 10s linear infinite;
  }

  @keyframes floatUp {
    0% {
      transform: translateY(0) scale(0.8);
      opacity: 0.8;
    }
    100% {
      transform: translateY(-120vh) scale(1.2);
      opacity: 0;
    }
  }

  /* Glowing text */
  @keyframes glow {
    0%, 100% { text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff0080; }
    50% { text-shadow: 0 0 20px #00ffff, 0 0 30px #ff80ff; }
  }

  .glow {
    animation: glow 2s ease-in-out infinite;
    font-size: 3rem;
    margin-top: 20px;
  }

</style>
</head>
<body>

<h1>Birthday Countdown 💫</h1>
<div id="countdown"></div>
<audio id="bg-music" autoplay loop>
  <source src="piano-loop.mp3" type="audio/mp3">
</audio>

<div id="hidden-content">
  <h2 class="glow">🎉 Happy Birthday, My Love ❤️</h2>
  <p>You make the world brighter just by existing.</p>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
const countdown = document.getElementById("countdown");
const targetDate = new Date("October 23, 2025 21:30:00").getTime();
const hiddenContent = document.getElementById("hidden-content");
const bgMusic = document.getElementById("bg-music");

function spawnFloatingEmoji(emoji) {
  const elem = document.createElement("div");
  elem.className = "floating";
  elem.innerText = emoji;
  elem.style.left = Math.random() * 100 + "vw";
  elem.style.animationDuration = 6 + Math.random() * 4 + "s";
  document.body.appendChild(elem);
  setTimeout(() => elem.remove(), 10000);
}

const timer = setInterval(() => {
  const now = new Date().getTime();
  const distance = targetDate - now;

  if (distance <= 0) {
    clearInterval(timer);
    countdown.innerHTML = "";

    hiddenContent.classList.add("show");
    bgMusic.pause();
    bgMusic.src = "happy-birthday.mp3";
    bgMusic.play();

    // Confetti burst
    const duration = 5 * 1000;
    const end = Date.now() + duration;
    (function frame() {
      confetti({
        particleCount: 8,
        angle: 60,
        spread: 55,
        origin: { x: 0 }
      });
      confetti({
        particleCount: 8,
        angle: 120,
        spread: 55,
        origin: { x: 1 }
      });
      if (Date.now() < end) requestAnimationFrame(frame);
    })();

    // Balloons and hearts nonstop
    setInterval(() => {
      spawnFloatingEmoji("🎈");
      spawnFloatingEmoji("❤️");
      spawnFloatingEmoji("💖");
      spawnFloatingEmoji("🎂");
    }, 800);

  } else {
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    countdown.innerHTML = `Time left: ${hours}h ${minutes}m ${seconds}s`;
  }
}, 1000);
</script>
</body>
</html>